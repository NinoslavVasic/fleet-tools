<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Driver Commission Calculator - Piece of Cake Moving & Storage</title>
  <style>
    body { font-family: 'Arial', sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; background-color: #f9f9fb; color: #333; position: relative; min-height: 100vh; }
    body::before { content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-image: url('https://mypieceofcakemove.com/wp-content/uploads/2022/02/piece-of-cake-moving-and-storage-media-moving-truck-in-brooklyn.jpg'); background-size: cover; background-position: center; background-attachment: fixed; z-index: -2; opacity: 0.1; }
    .container { background: rgba(255, 255, 255, 0.95); padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); position: relative; z-index: 1; backdrop-filter: blur(5px); }
    .header { text-align: center; margin-bottom: 20px; position: relative; }
    .header img { width: 250px; height: auto; margin-bottom: 10px; }
    h2 { color: #2c3e50; font-weight: bold; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); }
    h3, h4 { color: #FF6B00; }
    .input-group { margin: 12px 0; display: flex; flex-direction: column; }
    label { font-weight: bold; margin-bottom: 5px; color: #34495e; }
    input { padding: 10px; font-size: 16px; border: 1px solid #ddd; border-radius: 6px; transition: border 0.2s; border-left: 4px solid #FF6B00; }
    input:focus { border-color: #FF6B00; outline: none; }
    button { margin-top: 20px; padding: 12px 24px; font-size: 16px; background-color: #FF6B00; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: background 0.2s; }
    button:hover { background-color: #E55A00; }
    .results { margin-top: 25px; display: none; }
    .results.show { display: block; }
    .side-by-side { display: flex; justify-content: space-between; gap: 20px; margin-top: 15px; }
    .column { width: 48%; background: #f8f9fa; padding: 15px; border-radius: 8px; border: 1px solid #FF6B00; box-shadow: 0 2px 4px rgba(255,107,0,0.1); }
    .error { color: #e74c3c; font-weight: bold; margin: 10px 0; }
    .tier-section { border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px; }
    .tier-section:last-of-type { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
    .attribution { text-align: center; margin-top: 30px; font-size: 12px; color: #666; padding-top: 15px; border-top: 1px solid #ddd; }
    .attribution a { color: #FF6B00; text-decoration: none; }
    @media (max-width: 768px) { .side-by-side { flex-direction: column; } .column { width: 100%; } .header img { width: 200px; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="https://mypieceofcakemove.com/wp-content/uploads/2023/05/Piece-of-Cake-Moving-NYC-Best-Mover-Moving-Company.jpg" alt="Piece of Cake Moving & Storage Logo" />
      <h2>Driver Commission Calculator</h2>
    </div>
    <div class="input-group">
      <label for="miles">Weekly Miles:</label>
      <input type="number" id="miles" value="6345" step="0.01" min="0" />
    </div>
    <div class="tier-section">
      <h4>Tiered Rate Inputs</h4>
      <div class="input-group">
        <label for="tier1-max">Tier 1 Max Miles:</label>
        <input type="number" id="tier1-max" value="2000" step="0.01" min="0.01" />
      </div>
      <div class="input-group">
        <label for="tier1-rate">Tier 1 Rate ($/mile):</label>
        <input type="number" id="tier1-rate" value="0.60" step="0.01" min="0" />
      </div>
      <div class="input-group">
        <label for="tier2-max">Tier 2 Max Miles:</label>
        <input type="number" id="tier2-max" value="1000" step="0.01" min="0.01" />
      </div>
      <div class="input-group">
        <label for="tier2-rate">Tier 2 Rate ($/mile):</label>
        <input type="number" id="tier2-rate" value="0.50" step="0.01" min="0" />
      </div>
      <div class="input-group">
        <label for="tier3-rate">Tier 3 Rate ($/mile, 3001+ miles):</label>
        <input type="number" id="tier3-rate" value="0.40" step="0.01" min="0" />
      </div>
    </div>
    <div class="tier-section">
      <h4>Flat Rate Input</h4>
      <div class="input-group">
        <label for="flat-rate">Flat Rate ($/mile):</label>
        <input type="number" id="flat-rate" value="0.65" step="0.01" min="0" />
      </div>
    </div>
    <button onclick="calculate()">Calculate Commissions</button>
    <div id="error" class="error"></div>
    <div id="results" class="results">
      <div class="side-by-side">
        <div class="column" id="tiered-result"></div>
        <div class="column" id="flat-result"></div>
      </div>
    </div>
    <div class="attribution">
      Powered by <a href="https://mypieceofcakemove.com/" target="_blank">Piece of Cake Moving & Storage</a> | Images courtesy of Piece of Cake Media Assets
    </div>
  </div>
  <script>
    function calculate() {
      const errorDiv = document.getElementById('error');
      const resultsDiv = document.getElementById('results');
      errorDiv.textContent = '';
      resultsDiv.classList.remove('show');
      const miles = parseFloat(document.getElementById('miles').value);
      const tier1Max = parseFloat(document.getElementById('tier1-max').value);
      const tier1Rate = parseFloat(document.getElementById('tier1-rate').value);
      const tier2Max = parseFloat(document.getElementById('tier2-max').value);
      const tier2Rate = parseFloat(document.getElementById('tier2-rate').value);
      const tier3Rate = parseFloat(document.getElementById('tier3-rate').value);
      const flatRate = parseFloat(document.getElementById('flat-rate').value);
      if (isNaN(miles) || miles < 0) { errorDiv.textContent = 'Miles cannot be negative.'; return; }
      if (isNaN(tier1Max) || tier1Max <= 0 || isNaN(tier1Rate) || tier1Rate < 0 || isNaN(tier2Max) || tier2Max <= 0 || isNaN(tier2Rate) || tier2Rate < 0 || isNaN(tier3Rate) || tier3Rate < 0 || isNaN(flatRate) || flatRate < 0) { errorDiv.textContent = 'All tier max miles must be positive, and rates cannot be negative.'; return; }
      const tiers = [{ max: tier1Max, rate: tier1Rate }, { max: tier2Max, rate: tier2Rate }, { max: Infinity, rate: tier3Rate }];
      let totalTiered = 0; let remaining = miles; let tieredHTML = '<h3>Tiered Commission Breakdown:</h3>'; let startMile = 0;
      tiers.forEach((tier, i) => { const tierMiles = Math.min(remaining, tier.max); if (tierMiles > 0) { const commission = tierMiles * tier.rate; totalTiered += commission; const endMile = tier.max === Infinity ? '∞' : startMile + tier.max; const range = endMile === '∞' ? `${Math.floor(startMile) + 1}+ miles` : `${Math.floor(startMile) + 1}-${endMile} miles`; tieredHTML += `<p>${tierMiles.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})} miles × $${tier.rate.toFixed(2)} (${range}) = <strong>$${commission.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</strong></p>`; remaining -= tierMiles; } if (tier.max !== Infinity) startMile += tier.max; });
      tieredHTML += `<h4>Total Tiered Commission: <strong>$${totalTiered.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</strong></h4>`;
      const flatTotal = miles * flatRate; const flatHTML = `<h3>Flat Rate Commission:</h3><p>${miles.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})} miles × $${flatRate.toFixed(2)} = <strong>$${flatTotal.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</strong></p><h4>Total Flat Commission: <strong>$${flatTotal.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</strong></h4>`;
      document.getElementById('tiered-result').innerHTML = tieredHTML; document.getElementById('flat-result').innerHTML = flatHTML; resultsDiv.classList.add('show');
    }
  </script>
</body>
</html>